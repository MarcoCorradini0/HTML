<section class="video-section" role="region" aria-label="F1 teams video carousel">
  <div class="carousel" aria-live="polite">

    <!-- PREVIOUS TEAM -->
    <button class="nav-button prev" (click)="previousTeam()" aria-label="Previous team">
      <span aria-hidden="true">◀</span>
    </button>

    <!-- VIDEO CARD -->
    <div class="video-card">
      <div class="video-wrapper">
        <iframe *ngIf="videos.length > 0" [src]="videos[activeVideoIndex].videoUrl" class="video-iframe"
          [title]="videos[activeVideoIndex].title" frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen>
        </iframe>
      </div>

      <div class="video-meta">
        <h3 class="team-name">{{ teams[activeTeamIndex].name }}</h3>

        <!-- PREVIOUS VIDEO -->
        <div>
          <button class="nav-button prev" (click)="previousVideo()" aria-label="Previous video">
            <span>◀</span>
          </button>
        </div>

        <a class="open-channel"
          [href]="'https://www.youtube.com/channel/' + teams[activeTeamIndex].channelId + '/videos'" target="_blank"
          rel="noopener noreferrer">
          <span>Apri su YouTube</span>
        </a>

        <!-- NEXT VIDEO -->
        <div>
          <button class="nav-button next" (click)="nextVideo()" aria-label="Next video">
            <span>▶</span>
          </button>
        </div>
      </div>
    </div>

    <!-- NEXT TEAM -->
    <button class="nav-button next" (click)="nextTeam()" aria-label="Next team">
      <span aria-hidden="true">▶</span>
    </button>
  </div>

  <!-- TEAM INDICATORS -->
  <ul class="carousel-indicators" role="tablist" aria-label="Teams">
    <li *ngFor="let t of teams; let i = index" role="presentation">
      <button role="tab" [class.active]="i === activeTeamIndex" [attr.aria-selected]="i === activeTeamIndex"
        (click)="activeTeamIndex = i; loadVideos(t.channelId)" [attr.aria-label]="'Visualizza ' + t.name">
        {{ t.name }}
      </button>
    </li>
  </ul>
</section>